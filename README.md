# ブラウザ操作エージェント

## 概要

このプロジェクトは、自然言語での指示に基づいてウェブブラウザを自動操作するAIエージェントです。Amazon Bedrock の Claude と連携して、ユーザーの要求を理解し、ウェブブラウザ上での操作（クリック、テキスト入力、ページ移動など）を自動実行します。

## 特徴

- **自然言語による操作指示**: 「Googleで猫の画像を検索して」のような自然な指示でブラウザを操作
- **視覚的フィードバック**: 操作の各ステップでスクリーンショットを撮影し、視覚的に結果を確認
- **段階的な操作実行**: 複雑なタスクを小さなステップに分解して実行
- **対話型インターフェース**: Streamlitベースの使いやすいチャットインターフェース
- **エラー回復機能**: 操作に失敗した場合、別のアプローチを試行

## 技術スタック

- **フロントエンド**: Streamlit（対話型WebUI）
- **AIモデル**: Amazon Bedrock (Claude 3.7 Sonnet)
- **ブラウザ制御**: 専用ブラウザサービスAPI
- **開発言語**: Python

## 主な機能

1. **スクリーンショット撮影**: 現在のブラウザ画面を視覚的に確認
2. **ページ内容取得**: Webページのテキスト、要素などを取得
3. **要素クリック**: ボタン、リンクなどを自然言語で指定してクリック
4. **テキスト入力**: フォームフィールドなどにテキストを入力
5. **ページ移動**: 指定URLへの移動
6. **要素検索**: 特定の条件に合致する要素を検索

## セットアップ方法

### 前提条件

- Python 3.8以上
- AWS認証情報（Amazon Bedrockへのアクセス権限を持つ）
- ブラウザ操作サービス（別途セットアップが必要）

### インストール手順

1. リポジトリをクローン
   ```
   git clone https://github.com/yourusername/browser-agent.git
   cd browser-agent
   ```

2. 依存パッケージのインストール
   ```
   pip install -r requirements.txt
   ```

3. AWS認証情報の設定
   プロジェクトには既に`credentials/aws_credentials.json`ファイルが用意されています。このファイルを実際のAWS認証情報で更新してください。
   
   ```json
   {
     "aws_access_key_id": "your_access_key",
     "aws_secret_access_key": "your_secret_key",
     "region_name": "us-west-2"
   }
   ```
   
   * `your_access_key`をあなたのAWSアクセスキーに置き換えてください
   * `your_secret_key`をあなたのAWSシークレットキーに置き換えてください
   * 必要に応じて`region_name`も適切なリージョンに変更してください

   > 注意: AWS認証情報は機密情報です。このファイルをGitリポジトリにコミットしないよう注意してください。

4. ブラウザサービスのセットアップ（別途手順を参照）

### 実行方法

```
cd browser-agent
streamlit run agent/agent.py
```

## ブラウザサービスの設定

ブラウザ操作エージェントは別途実行されるブラウザ制御サービスとHTTP APIで連携します。
デフォルトでは `http://localhost:5000` で接続を試みます。

接続先を変更するには環境変数を設定します:

```
export BROWSER_SERVICE_URL="http://your-browser-service-url"
```

## 使用例

1. アプリケーションを起動
2. サイドバーで接続状態を確認
3. URLフォームからブラウジングを開始するか、直接指示を入力
4. 例: 「Amazonにアクセスして、ヘッドフォンを検索して」
5. AIが段階的に操作を実行し、各ステップの結果を表示

## 注意事項

- ブラウザサービスが別途必要です（このリポジトリには含まれていません）
- Amazon Bedrockの使用にはAWSアカウントと適切な権限が必要です
- 複雑なJavaScriptを使用したサイトでは一部機能が制限される場合があります

## ライセンス

[ライセンス情報を記載]
